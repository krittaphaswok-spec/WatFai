<!--animetion grid ใน style 98-124 และ body 227 มีการแก้ card layer กับ optimize ให้ github ใช้ได้-->
<!doctype html>
<html lang="th">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>วัด(ไฟ)ป่ะละ</title>
<style> 
  html, body {
  height: 100%;
  background: #ffffff;
  }

  body {
  position: relative;
  isolation: isolate;
  }

  :root{
    --primary:#4f46e5;
    --good:#16a34a;
    --bad:#dc2626;
    --bg:#f3f4f6;
    --card-bg:#ffffff;
  }

  *{box-sizing:border-box}
  html,body{height:100%}
  body {
    margin:0;
    font-family: "Prompt", sans-serif;
    background: #ffffff;
    color:#0f172a; 
    -webkit-font-smoothing:antialiased;
  }

  .banner {
    padding:19px;
    background:var(--primary);
    color:white;
    text-align:center;
    font-size:1.15rem;
  }

  .center-wrap {
    display:flex;
    flex-direction:column;
    align-items:center;
    justify-content:center;
    padding:18px;
    gap:18px;
    text-align:center;
    min-height:calc(100vh - 48px);
  }

  .card { width:100%; max-width:720px; padding:100px; background:var(--card-bg); border-radius:12px; box-shadow:0 2px 12px rgba(15,23,42,0.06); }

  #quizCard {
    width:96vw;
    max-width:1400px;
    height:88vh;
    padding:20px;
    border-radius:14px;
    display:flex;
    flex-direction:column;
    gap:16px;
    justify-content:center;
    align-items:center;
    overflow:auto;
  }

  /*บังคับให้ card อยู่บนสุด*/
  .center-wrap {
  position: relative;
  z-index: 1;
}

.card,
.result-box {
  position: relative;
  z-index: 2;
  background-color: #ffffff;
  opacity: 1;
}

  .btn {
    padding:16px 24px;
    border-radius:14px;
    border:none;
    background:var(--primary);
    color:white;
    font-size:1.3rem;
    cursor:pointer;
    width:100%;
    max-width:480px;
  }

  /*grid background*/
  .grid-bg {
  position: fixed;
  inset: 0;
  z-index: -1;

  background-color: #f0f0f0;
  background-image:
    linear-gradient(rgba(0,0,0,0.06) 1px, transparent 1px),
    linear-gradient(90deg, rgba(0,0,0,0.06) 1px, transparent 1px);
  background-size: 40px 40px;

  animation: gridInfinite 35s linear infinite;

  pointer-events: none;
  transform: translateZ(0);
  }

  /* animation grid*/
  @keyframes gridInfinite {
  from {
    background-position: 0 0;
  }
  to {
    background-position: 400px 400px;
  }
  }

  #quiz { display:none; align-items:center; justify-content:center; gap:16px; }
  .top-row { display:flex; gap:20px; align-items:center; justify-content:center; width:100%; }

  #qimg { max-width:44%; max-height:48vh; width:auto; height:auto; border-radius:10px; object-fit:contain; display:block; }

  /* ====== ขยายตัวอักษรคำถามอีกมาก ====== */
  #qtext {
    margin:0;
    font-size:3rem;       /* ขยายมากขึ้น (เดสก์ท็อป) */
    line-height:1.08;
    font-weight:800;
    color:#0b1220;
    text-align:center;
  }
  @media (max-width:1100px){
    #qtext { font-size:2.4rem; }
  }
  @media (max-width:700px){
    #qtext { font-size:1.6rem; padding:0 8px; }
  }
  /* ========================================= */

  .choices { display:flex; flex-direction:column; gap:18px; align-items:stretch; margin-top:18px; width:100%; }
  .choice-box {
    display:flex;
    align-items:center;
    gap:16px;
    padding:22px 24px;
    border-radius:16px;
    border:2px solid #e6e7ee;
    background:linear-gradient(180deg,#fff,#fbfdff);
    cursor:pointer;
    transition:all .12s ease;
    user-select:none;
    font-size:1.8rem;   /* ขยายตัวเลือกให้ใหญ่ขึ้น */
  }
  .choice-box:hover{ transform:translateY(-2px); box-shadow:0 12px 30px rgba(79,70,229,0.06); }
  .choice-box .label { flex:1; text-align:left; }
  .choice-box .radio-ind {
    width:40px;
    height:40px;
    border-radius:10px;
    border:2px solid #c6c7d9;
    display:flex;
    align-items:center;
    justify-content:center;
    font-weight:bold;
    color:white;
    background:transparent;
    flex-shrink:0;
    font-size:1.05rem;
  }
  .choice-box.selected { border-color:var(--primary); background:linear-gradient(180deg,#eef2ff,#eef8ff); }
  .choice-box.selected .radio-ind { background:var(--primary); border-color:var(--primary); }

  .choice-row {
    display:flex;
    gap:14px;
    align-items:center;
    font-size:1.8rem;   /* ขยายตัวเลือก checkbox */
  }
  .choice-row input[type="checkbox"]{ width:30px; height:30px; }

  /* ช่องชั่วโมง ขยายความยาวและตัวอักษรใหญ่ */
  .hours-wrap {
    display:flex;
    justify-content:center;
    align-items:center;
    gap:12px;
    margin-top:16px;
    width:100%;
  }
  input[type="number"]{
    padding:16px 22px;
    font-size:1.8rem;     /* ขนาดตัวเลขใหญ่ขึ้น */
    border-radius:14px;
    border:1px solid #e6e7ee;
    width:840px;          /* ความยาวมากขึ้น */
    max-width:96%;
    text-align:center;
    box-shadow:0 4px 12px rgba(16,24,40,0.06);
  }
  @media (max-width:1000px){
    input[type="number"]{ width:72%; font-size:1.4rem; }
  }
  @media (max-width:600px){
    input[type="number"]{ width:92%; font-size:1.15rem; }
    .choice-box { font-size:1.1rem; padding:12px 14px; }
    .choice-row { font-size:1rem; }
  }
  .hours-note { font-size:1rem; color:#374151; margin-top:6px; }

  .result-box { background:var(--card-bg); padding:18px; border-radius:12px; max-width:720px; text-align:left; }
  .good { color:var(--good); font-weight:bold; }
  .bad { color:var(--bad); font-weight:bold; }

  .muted { color:#6b7280; font-size:0.95rem; margin-top:6px; }
</style>
</head>

<body>
<div class="grid-bg"></div>
<div class="banner">แบบทดสอบตรวจการใช้ไฟฟ้าตามมาตรฐาน</div>

<div class="center-wrap" id="intro">
  <div class="card" style="text-align:center">
    <h2>ตรวจการใช้พลังงานไฟฟ้าในห้องเรียน</h2>
    <p class="muted">แตะเริ่ม เพื่อทำแบบทดสอบ — คำถามจะอยู่ตรงกลางหน้าจอ</p>
    <div style="margin-top:16px;">
      <button class="btn" id="startBtn">เริ่มทำแบบทดสอบ</button>
    </div>
  </div>
</div>

<div class="center-wrap" id="quiz">
  <div class="card" id="quizCard">
    <div style="width:100%; max-width:1300px;">
      <h3 id="qtext"></h3>
      <div class="top-row" style="margin-top:18px;">
        <img id="qimg" src="" alt="" style="display:none;">
        <div style="flex:1; min-width:280px;">
          <div id="choices" class="choices"></div>
        </div>
      </div>
    </div>

    <div style="width:100%; max-width:520px; margin-top:18px;">
      <button class="btn" id="nextBtn">ถัดไป</button>
    </div>
  </div>
</div>

<div class="center-wrap" id="result" style="display:none;">
  <div class="result-box">
    <h2>ผลการประเมิน</h2>
    <div id="resultContent"></div>
    <div style="margin-top:12px;">
      <button class="btn" id="restartBtn">เริ่มใหม่</button>
    </div>
  </div>
</div>

<script>
const power = {
  "เครื่องปรับอากาศ":4000,
  "หลอดไฟ":25,
  "พัดลม":50,
  "โทรทัศน์":150,
  "ลำโพง":15
};

const questions = [
  { text:"จำนวนผู้ใช้งานห้องเรียน", type:"radio", choices:["20-30 คน","31-40 คน","41-45 คน","46-50 คน"] },
  { text:"ความมีวินัยในการใช้พลังงานไฟฟ้า", type:"radio", choices:["ดี : ปิดเครื่องใช้ไฟฟ้าทุกครั้ง","ปานกลาง : ปิดบ้างไม่ปิดบ้าง","น้อย : ไม่ปิดเมื่อไม่ใช้งาน"] },
  { text:"เครื่องใช้ไฟฟ้าได้รับฉลากประหยัดไฟเบอร์ 5", img:"label5_user.jpg", type:"radio", choices:["ทั้งหมด","มากกว่าครึ่ง","น้อยกว่าครึ่ง","ไม่มีเลย"] },
  { text:"เครื่องใช้ไฟฟ้าที่ใช้ในห้องเรียน", type:"checkbox", choices:["หลอดไฟ","พัดลม","เครื่องปรับอากาศ","โทรทัศน์","ลำโพง"] },
  { text:"จำนวนชั่วโมงที่ใช้งานต่อวัน", type:"number" }
];

let index=0;
let answers={};

/* DOM refs */
const intro = document.getElementById('intro');
const quiz = document.getElementById('quiz');
const result = document.getElementById('result');
const qtext = document.getElementById('qtext');
const qimg = document.getElementById('qimg');
const choices = document.getElementById('choices');
const startBtn = document.getElementById('startBtn');
const nextBtn = document.getElementById('nextBtn');
const restartBtn = document.getElementById('restartBtn');
const resultContent = document.getElementById('resultContent');

startBtn.addEventListener('click', start);
nextBtn.addEventListener('click', next);
restartBtn.addEventListener('click', ()=>{
  index = 0; answers = {}; result.style.display = 'none'; intro.style.display = 'flex';
});

/* Start quiz */
function start(){
  intro.style.display="none";
  quiz.style.display="flex";
  show();
}

/* Show question */
function show(){
  const q=questions[index];
  qtext.innerText=q.text;
  qimg.src=q.img||"";
  qimg.style.display=q.img?"block":"none";
  choices.innerHTML="";

  if(q.type==="radio"){
    q.choices.forEach(c=>{
      const div = document.createElement('div');
      div.className = 'choice-box';
      div.dataset.value = c;
      div.innerHTML = `<div class="radio-ind"></div><div class="label">${c}</div>`;
      div.addEventListener('click', ()=>{
        document.querySelectorAll('.choice-box').forEach(cb=>cb.classList.remove('selected'));
        div.classList.add('selected');
      });
      choices.appendChild(div);
    });
  }

  if(q.type==="checkbox"){
    const container = document.createElement('div');
    container.style.display='flex'; container.style.flexDirection='column'; container.style.gap='14px';
    q.choices.forEach(c=>{
      const label = document.createElement('label');
      label.className='choice-row';
      label.innerHTML = `<input type="checkbox" value="${c}"> ${c}`;
      container.appendChild(label);
    });
    choices.appendChild(container);
  }

  if(q.type==="number"){
    const wrap = document.createElement('div');
    wrap.className = 'hours-wrap';
    wrap.innerHTML = `
      <div style="text-align:center;">
        <input type="number" id="hours" min="1" max="24" placeholder="ชั่วโมง (1-24)">
        <div class="hours-note">กรอกชั่วโมงต่อวัน (สูงสุด 24 ชั่วโมง)</div>
      </div>
    `;
    choices.appendChild(wrap);

    const hoursInput = wrap.querySelector('#hours');
    hoursInput.addEventListener('input', ()=>{
      const v = Number(hoursInput.value);
      if(v > 24) hoursInput.value = 24;
      if(v < 1) hoursInput.value = 1;
    });
  }

  window.scrollTo({ top: 0, behavior: 'smooth' });
}

/* Next / save answer */
function next(){
  const q=questions[index];

  if(q.type==="radio"){
    const selected = document.querySelector('.choice-box.selected');
    if(!selected) return alert("กรุณาเลือกคำตอบ");
    answers[q.text] = selected.dataset.value;
  }

  if(q.type==="checkbox"){
    const v=[...document.querySelectorAll('#choices input[type="checkbox"]:checked')].map(i=>i.value);
    if(v.length===0) return alert("กรุณาเลือกอย่างน้อยหนึ่งรายการ");
    answers[q.text]=v;
  }

  if(q.type==="number"){
    const hoursInput = document.getElementById('hours');
    const val = Number(hoursInput.value);
    if(!val || val < 1) return alert("กรุณากรอกจำนวนชั่วโมงที่ถูกต้อง (อย่างน้อย 1 ชั่วโมง)");
    if(val > 24) { alert("จำนวนชั่วโมงต้องไม่เกิน 24 ชั่วโมงต่อวัน"); return; }
    answers[q.text] = val;
  }

  index++;
  if(index<questions.length) show();
  else calc();
}

/* Calculate result */
function calc(){
  quiz.style.display="none";
  result.style.display="flex";

  let total=0;
  const hrs=answers["จำนวนชั่วโมงที่ใช้งานต่อวัน"] || 0;
  const devices = answers["เครื่องใช้ไฟฟ้าที่ใช้ในห้องเรียน"] || [];

  devices.forEach(d=>{ if(power[d]) total += power[d] * hrs; });

  resultContent.innerHTML = `
    <p style="font-size:1.15rem">ใช้ไฟรวม <b>${total.toLocaleString()}</b> วัตต์/วัน</p>
    <p class="${total>10000 ? 'bad' : 'good'}" style="font-size:1.05rem">
      ${total>10000 ? "การใช้ไฟสูง" : "การใช้ไฟเหมาะสม"}
    </p>
    <hr style="border:none;border-top:1px solid #eef2ff;margin:12px 0;">
    <div style="font-size:0.95rem;color:#374151">
      <strong>คำตอบของคุณ</strong>
      <ul style="padding-left:18px;margin:8px 0 0;">
        ${Object.entries(answers).map(([k,v])=>{
          if(Array.isArray(v)) return `<li>${k}: ${v.join(', ')}</li>`;
          return `<li>${k}: ${v}</li>`;
        }).join('')}
      </ul>
    </div>
  `;
}                
</script>

</body> 
</html>

<!-- 
เปลี้ยนค่าไฟฟ้า บรรทัด 218-222 
 



-->
