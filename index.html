<!--animetion grid ‡πÉ‡∏ô style 98-124 ‡πÅ‡∏•‡∏∞ body 227 ‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ card layer ‡∏Å‡∏±‡∏ö optimize ‡πÉ‡∏´‡πâ github ‡πÉ‡∏ä‡πâ‡πÑ‡∏î‡πâ-->
<!doctype html>
<html lang="th">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>‡∏ß‡∏±‡∏î(‡πÑ‡∏ü)‡∏õ‡πà‡∏∞‡∏•‡∏∞</title> 

<style>
  html, body {
  height: 100%;
  background: #ffffff;
  }

  body {
  position: relative;
  isolation: isolate;
  }

  :root{
    --primary:#4f46e5;
    --good:#16a34a;
    --bad:#dc2626;
    --bg:#f3f4f6;
    --card-bg:#ffffff;
  }

  *{box-sizing:border-box}
  html,body{height:100%}
  body {
    margin:0;
    font-family: "Prompt", sans-serif;
    background: #ffffff;
    color:#0f172a; 
    -webkit-font-smoothing:antialiased;
  }

  .banner {
    padding:19px;
    background:var(--primary);
    color:white;
    text-align:center;
    font-size:1.15rem;
  }

  .center-wrap {
    display:flex;
    flex-direction:column;
    align-items:center;
    justify-content:center;
    padding:18px;
    gap:18px;
    text-align:center;
    min-height:calc(100vh - 48px);
  }

  .card { width:100%; max-width:720px; padding:100px; background:var(--card-bg); border-radius:12px; box-shadow:0 2px 12px rgba(15,23,42,0.06); }

  #quizCard {
    width:96vw;
    max-width:1400px;
    height:88vh;
    padding:20px;
    border-radius:14px;
    display:flex;
    flex-direction:column;
    gap:16px;
    justify-content:center;
    align-items:center;
    overflow:auto;
  }

  /*‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö‡πÉ‡∏´‡πâ card ‡∏≠‡∏¢‡∏π‡πà‡∏ö‡∏ô‡∏™‡∏∏‡∏î*/
  .center-wrap {
  position: relative;
  z-index: 1;
}

.card,
.result-box {
  position: relative;
  z-index: 2;
  background-color: #ffffff;
  opacity: 1;
}

  .btn {
    padding:16px 24px;
    border-radius:14px;
    border:none;
    background:var(--primary);
    color:white;
    font-size:1.3rem;
    cursor:pointer;
    width:100%;
    max-width:480px;
  }

  /*grid background*/
  .grid-bg {
  position: fixed;
  inset: 0;
  z-index: -1;

  background-color: #f0f0f0;
  background-image:
    linear-gradient(rgba(0,0,0,0.06) 1px, transparent 1px),
    linear-gradient(90deg, rgba(0,0,0,0.06) 1px, transparent 1px);
  background-size: 40px 40px;

  animation: gridInfinite 35s linear infinite;

  pointer-events: none;
  transform: translateZ(0);
  }

  /* animation grid*/
  @keyframes gridInfinite {
  from {
    background-position: 0 0;
  }
  to {
    background-position: 400px 400px;
  }
  }

  #quiz { display:none; align-items:center; justify-content:center; gap:16px; }
  .top-row { display:flex; gap:20px; align-items:center; justify-content:center; width:100%; }

  #qimg { max-width:44%; max-height:48vh; width:auto; height:auto; border-radius:10px; object-fit:contain; display:block; }

  /* ====== ‡∏Ç‡∏¢‡∏≤‡∏¢‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏≠‡∏µ‡∏Å‡∏°‡∏≤‡∏Å ====== */
  #qtext {
    margin:0;
    font-size:3rem;       /* ‡∏Ç‡∏¢‡∏≤‡∏¢‡∏°‡∏≤‡∏Å‡∏Ç‡∏∂‡πâ‡∏ô (‡πÄ‡∏î‡∏™‡∏Å‡πå‡∏ó‡πá‡∏≠‡∏õ) */
    line-height:1.08;
    font-weight:800;
    color:#0b1220;
    text-align:center;
  }
  @media (max-width:1100px){
    #qtext { font-size:2.4rem; }
  }
  @media (max-width:700px){
    #qtext { font-size:1.6rem; padding:0 8px; }
  }
  /* ========================================= */

  .choices { display:flex; flex-direction:column; gap:18px; align-items:stretch; margin-top:18px; width:100%; }
  .choice-box {
    display:flex;
    align-items:center;
    gap:16px;
    padding:22px 24px;
    border-radius:16px;
    border:2px solid #e6e7ee;
    background:linear-gradient(180deg,#fff,#fbfdff);
    cursor:pointer;
    transition:all .12s ease;
    user-select:none;
    font-size:1.8rem;   /* ‡∏Ç‡∏¢‡∏≤‡∏¢‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÉ‡∏´‡πâ‡πÉ‡∏´‡∏ç‡πà‡∏Ç‡∏∂‡πâ‡∏ô */
  }
  .choice-box:hover{ transform:translateY(-2px); box-shadow:0 12px 30px rgba(79,70,229,0.06); }
  .choice-box .label { flex:1; text-align:left; }
  .choice-box .radio-ind {
    width:40px;
    height:40px;
    border-radius:10px;
    border:2px solid #c6c7d9;
    display:flex;
    align-items:center;
    justify-content:center;
    font-weight:bold;
    color:white;
    background:transparent;
    flex-shrink:0;
    font-size:1.05rem;
  }
  .choice-box.selected { border-color:var(--primary); background:linear-gradient(180deg,#eef2ff,#eef8ff); }
  .choice-box.selected .radio-ind { background:var(--primary); border-color:var(--primary); }

  .choice-row {
    display:flex;
    gap:14px;
    align-items:center;
    font-size:1.8rem;   /* ‡∏Ç‡∏¢‡∏≤‡∏¢‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å checkbox */
  }
  .choice-row input[type="checkbox"]{ width:30px; height:30px; }

  /* ‡∏ä‡πà‡∏≠‡∏á‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á ‡∏Ç‡∏¢‡∏≤‡∏¢‡∏Ñ‡∏ß‡∏≤‡∏°‡∏¢‡∏≤‡∏ß‡πÅ‡∏•‡∏∞‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£‡πÉ‡∏´‡∏ç‡πà */
  .hours-wrap {
    display:flex;
    justify-content:center;
    align-items:center;
    gap:12px;
    margin-top:16px;
    width:100%;
  }
  input[type="number"]{
    padding:16px 22px;
    font-size:1.8rem;     /* ‡∏Ç‡∏ô‡∏≤‡∏î‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç‡πÉ‡∏´‡∏ç‡πà‡∏Ç‡∏∂‡πâ‡∏ô */
    border-radius:14px;
    border:1px solid #e6e7ee;
    width:840px;          /* ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏¢‡∏≤‡∏ß‡∏°‡∏≤‡∏Å‡∏Ç‡∏∂‡πâ‡∏ô */
    max-width:96%;
    text-align:center;
    box-shadow:0 4px 12px rgba(16,24,40,0.06);
  }
  @media (max-width:1000px){
    input[type="number"]{ width:72%; font-size:1.4rem; }
  }
  @media (max-width:600px){
    input[type="number"]{ width:92%; font-size:1.15rem; }
    .choice-box { font-size:1.1rem; padding:12px 14px; }
    .choice-row { font-size:1rem; }
  }
  .hours-note { font-size:1rem; color:#374151; margin-top:6px; }

  .result-box { background:var(--card-bg); padding:18px; border-radius:12px; max-width:720px; text-align:left; }
  .good { color:var(--good); font-weight:bold; }
  .bad { color:var(--bad); font-weight:bold; }

  .muted { color:#6b7280; font-size:0.95rem; margin-top:6px; }
 /* ===== Celebration Effect (FIXED) ===== */

/* ‡πÄ‡∏™‡πâ‡∏ô‡∏û‡∏•‡∏∏ */
.firework-line {
  position: fixed;
  bottom: -20vh;
  width: 6px;
  height: 140vh;
  background: linear-gradient(
    to top,
    transparent,
    #ff3d81,
    #4f46e5,
    #22c55e
  );
  animation: fireworkShoot 4s ease-out forwards; /* ‚Üê 4 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ */
  z-index: 1;
  pointer-events: none;
}

.firework-left {
  left: 10%;
  transform: rotate(-20deg);
}

.firework-right {
  right: 10%;
  transform: rotate(20deg);
}

@keyframes fireworkShoot {
  from {
    transform: translateY(120%) scaleY(0.1);
    opacity: 1;
  }
  to {
    transform: translateY(-120%) scaleY(1);
    opacity: 0;
  }
}

/* ‡∏Å‡∏£‡∏∞‡∏î‡∏≤‡∏©‡∏™‡∏µ */
.confetti {
  position: fixed;
  top: -20px;
  width: 12px;
  height: 12px;
  z-index: 1;
  pointer-events: none;
  animation: confettiFall 8s linear forwards; /* ‚Üê 8 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ */
}

@keyframes confettiFall {
  to {
    transform: translateY(120vh) rotate(1080deg);
    opacity: 0;
  }
}
/* ===== High usage animation ===== */

/* ‡∏Å‡∏•‡πà‡∏≠‡∏á‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡πÄ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏õ‡∏ã‡πâ‡∏≤‡∏¢ */
.shift-left {
  animation: slideLeft 0.8s ease forwards;
}

@keyframes slideLeft {
  from { transform: translateX(0); }
  to { transform: translateX(-16vw); }
}

/* ‡∏õ‡∏∏‡πà‡∏°‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥ ‡πÄ‡∏î‡πâ‡∏á‡πÄ‡∏Ç‡πâ‡∏≤‡∏à‡∏≤‡∏Å‡∏Ç‡∏ß‡∏≤ */
.advice-btn {
  position: fixed;
  right: -50vw;
  top: 50%;
  transform: translateY(-50%);
  padding: 35px 40px;
  font-size: 1.8rem;
  border-radius: 16px;
  background: #f59e0b;
  color: #fff;
  text-decoration: none;
  font-weight: bold;
  box-shadow: 0 12px 30px rgba(0,0,0,0.2);
  animation: slideInRight 0.8s ease forwards;
  z-index: 10;
}

@keyframes slideInRight {
  to { right: 15vw; }
}

/* ‡∏Ç‡∏≠‡∏ö‡∏Å‡∏•‡πà‡∏≠‡∏á‡∏™‡∏ß‡πà‡∏≤‡∏á‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏´‡∏•‡∏≠‡∏î‡πÑ‡∏ü */
.glow-box {
  animation: glow 1.2s ease-in-out infinite alternate;
}

@keyframes glow {
  from {
    box-shadow: 0 0 8px rgba(255, 230, 0, 0.4);
  }
  to {
    box-shadow:
      0 0 16px rgba(255, 230, 0, 0.9),
      0 0 32px rgba(255, 200, 0, 0.8);
  }
}



</style>
</head>

<body>
 

<div class="grid-bg"></div>
<div class="banner">‡πÅ‡∏ö‡∏ö‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏ï‡∏£‡∏ß‡∏à‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡πÑ‡∏ü‡∏ü‡πâ‡∏≤‡∏ï‡∏≤‡∏°‡∏°‡∏≤‡∏ï‡∏£‡∏ê‡∏≤‡∏ô</div>

<div class="center-wrap" id="intro">
  <div class="card" style="text-align:center">
    <h2>‡∏ï‡∏£‡∏ß‡∏à‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô‡πÑ‡∏ü‡∏ü‡πâ‡∏≤‡πÉ‡∏ô‡∏´‡πâ‡∏≠‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</h2>
    <p class="muted">‡πÅ‡∏ï‡∏∞‡πÄ‡∏£‡∏¥‡πà‡∏° ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ó‡∏≥‡πÅ‡∏ö‡∏ö‡∏ó‡∏î‡∏™‡∏≠‡∏ö ‚Äî ‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏à‡∏∞‡∏≠‡∏¢‡∏π‡πà‡∏ï‡∏£‡∏á‡∏Å‡∏•‡∏≤‡∏á‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠</p>
    <div style="margin-top:16px;">
      <button class="btn" id="startBtn">‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ó‡∏≥‡πÅ‡∏ö‡∏ö‡∏ó‡∏î‡∏™‡∏≠‡∏ö</button>
    </div>
  </div>
</div>

<div class="center-wrap" id="quiz">
  <div class="card" id="quizCard">
    <div style="width:100%; max-width:1300px;">
      <h3 id="qtext"></h3>
      <div class="top-row" style="margin-top:18px;">
        <img id="qimg" src="" alt="" style="display:none;">
        <div style="flex:1; min-width:280px;">
          <div id="choices" class="choices"></div>
        </div>
      </div>
    </div>

    <div style="width:100%; max-width:520px; margin-top:18px;">
      <button class="btn" id="nextBtn">‡∏ñ‡∏±‡∏î‡πÑ‡∏õ</button>
    </div>
  </div>
</div>

<div class="center-wrap" id="result" style="display:none;">
  <div class="result-box">
    <h2>‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô</h2>
    <div id="resultContent"></div>
    <div style="margin-top:12px; display:flex; flex-direction:column; gap:12px;">
  <a
  href="https://www.egat.co.th/home/egat-price/#tab-52571"
  target="_blank"
  class="btn"
  style="text-decoration:none; display:inline-flex; align-items:center; justify-content:center;"
>
  ‡∏î‡∏π‡∏≠‡∏±‡∏ï‡∏£‡∏≤‡∏Ñ‡πà‡∏≤‡πÑ‡∏ü‡∏ü‡πâ‡∏≤ (EGAT)
</a>

  <button class="btn" id="restartBtn">‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÉ‡∏´‡∏°‡πà</button>
</div>
  </div>
</div>

<script>
const power = {
  "‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏õ‡∏£‡∏±‡∏ö‡∏≠‡∏≤‡∏Å‡∏≤‡∏®":4000,
  "‡∏´‡∏•‡∏≠‡∏î‡πÑ‡∏ü":11.9,
  "‡∏û‡∏±‡∏î‡∏•‡∏°":50,
  "‡πÇ‡∏ó‡∏£‡∏ó‡∏±‡∏®‡∏ô‡πå":510,
  "‡∏•‡∏≥‡πÇ‡∏û‡∏á":15
};

const questions = [
  { text:"‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏´‡πâ‡∏≠‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô", type:"radio", choices:["20-30 ‡∏Ñ‡∏ô","31-40 ‡∏Ñ‡∏ô","41-45 ‡∏Ñ‡∏ô","46-50 ‡∏Ñ‡∏ô"] },
  { text:"‡∏Ñ‡∏ß‡∏≤‡∏°‡∏°‡∏µ‡∏ß‡∏¥‡∏ô‡∏±‡∏¢‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô‡πÑ‡∏ü‡∏ü‡πâ‡∏≤", type:"radio", choices:["‡∏î‡∏µ : ‡∏õ‡∏¥‡∏î‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÉ‡∏ä‡πâ‡πÑ‡∏ü‡∏ü‡πâ‡∏≤‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á","‡∏õ‡∏≤‡∏ô‡∏Å‡∏•‡∏≤‡∏á : ‡∏õ‡∏¥‡∏î‡∏ö‡πâ‡∏≤‡∏á‡πÑ‡∏°‡πà‡∏õ‡∏¥‡∏î‡∏ö‡πâ‡∏≤‡∏á","‡∏ô‡πâ‡∏≠‡∏¢ : ‡πÑ‡∏°‡πà‡∏õ‡∏¥‡∏î‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô"] },
  { text:"‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÉ‡∏ä‡πâ‡πÑ‡∏ü‡∏ü‡πâ‡∏≤‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏â‡∏•‡∏≤‡∏Å‡∏õ‡∏£‡∏∞‡∏´‡∏¢‡∏±‡∏î‡πÑ‡∏ü‡πÄ‡∏ö‡∏≠‡∏£‡πå 5", img:"label5_user.jpg", type:"radio", choices:["‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î","‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤‡∏Ñ‡∏£‡∏∂‡πà‡∏á","‡∏ô‡πâ‡∏≠‡∏¢‡∏Å‡∏ß‡πà‡∏≤‡∏Ñ‡∏£‡∏∂‡πà‡∏á","‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÄ‡∏•‡∏¢"] },
  { text:"‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÉ‡∏ä‡πâ‡πÑ‡∏ü‡∏ü‡πâ‡∏≤‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡πÉ‡∏ô‡∏´‡πâ‡∏≠‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô", type:"checkbox", choices:["‡∏´‡∏•‡∏≠‡∏î‡πÑ‡∏ü","‡∏û‡∏±‡∏î‡∏•‡∏°","‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏õ‡∏£‡∏±‡∏ö‡∏≠‡∏≤‡∏Å‡∏≤‡∏®","‡πÇ‡∏ó‡∏£‡∏ó‡∏±‡∏®‡∏ô‡πå","‡∏•‡∏≥‡πÇ‡∏û‡∏á"] },
  { text:"‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏ï‡πà‡∏≠‡∏ß‡∏±‡∏ô", type:"number" }
];

let index=0;
let answers={};

/* DOM refs */
const intro = document.getElementById('intro');
const quiz = document.getElementById('quiz');
const result = document.getElementById('result');
const qtext = document.getElementById('qtext');
const qimg = document.getElementById('qimg');
const choices = document.getElementById('choices');
const startBtn = document.getElementById('startBtn');
const nextBtn = document.getElementById('nextBtn');
const restartBtn = document.getElementById('restartBtn');
const resultContent = document.getElementById('resultContent');



startBtn.addEventListener('click', start);
nextBtn.addEventListener('click', next);
restartBtn.addEventListener('click', ()=> {
  index = 0;
  answers = {};

  // ‡∏ã‡πà‡∏≠‡∏ô‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå
  result.style.display = 'none';
  intro.style.display = 'flex';

  // ‡∏•‡∏ö‡∏õ‡∏∏‡πà‡∏°‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏ñ‡πâ‡∏≤‡∏°‡∏µ
  const adviceBtn = document.querySelector('.advice-btn');
  if (adviceBtn) adviceBtn.remove();

  // ‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡∏Å‡∏•‡πà‡∏≠‡∏á‡∏™‡∏£‡∏∏‡∏õ‡πÑ‡∏°‡πà‡πÉ‡∏´‡πâ‡∏™‡∏ß‡πà‡∏≤‡∏á
  const box = document.querySelector('.result-box');
  if (box) box.classList.remove('glow-box', 'shift-left');
});


/* Start quiz */
function start(){
  intro.style.display="none";
  quiz.style.display="flex";
  show();
}

/* Show question */
function show(){
  const q=questions[index];
  qtext.innerText=q.text;
  qimg.src=q.img||"";
  qimg.style.display=q.img?"block":"none";
  choices.innerHTML="";

  if(q.type==="radio"){
    q.choices.forEach(c=>{
      const div = document.createElement('div');
      div.className = 'choice-box';
      div.dataset.value = c;
      div.innerHTML = `<div class="radio-ind"></div><div class="label">${c}</div>`;
      div.addEventListener('click', ()=>{
        document.querySelectorAll('.choice-box').forEach(cb=>cb.classList.remove('selected'));
        div.classList.add('selected');
      });
      choices.appendChild(div);
    });
  }

  if(q.type==="checkbox"){
    const container = document.createElement('div');
    container.style.display='flex'; container.style.flexDirection='column'; container.style.gap='14px';
    q.choices.forEach(c=>{
      const label = document.createElement('label');
      label.className='choice-row';
      label.innerHTML = `<input type="checkbox" value="${c}"> ${c}`;
      container.appendChild(label);
    });
    choices.appendChild(container);
  }

  if(q.type==="number"){
    const wrap = document.createElement('div');
    wrap.className = 'hours-wrap';
    wrap.innerHTML = `
      <div style="text-align:center;">
        <input type="number" id="hours" min="1" max="24" placeholder="‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á (1-24)">
        <div class="hours-note">‡∏Å‡∏£‡∏≠‡∏Å‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á‡∏ï‡πà‡∏≠‡∏ß‡∏±‡∏ô (‡∏ï‡∏±‡πâ‡∏á‡πÄ‡πÄ‡∏ï‡πà 1-24 ‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á)</div>
      </div>
    `;
    choices.appendChild(wrap);

    const hoursInput = wrap.querySelector('#hours');
    hoursInput.addEventListener('input', () => {
  // ‡∏•‡∏ö‡∏à‡∏∏‡∏î‡∏ó‡∏®‡∏ô‡∏¥‡∏¢‡∏°‡∏≠‡∏≠‡∏Å‡∏ó‡∏±‡∏ô‡∏ó‡∏µ
  hoursInput.value = hoursInput.value.replace(/\./g, '');

  const v = Number(hoursInput.value);


  if (v > 24) hoursInput.value = 24;
});
  }
  window.scrollTo({ top: 0, behavior: 'smooth' });
}

/* Next / save answer */
function next(){
  const q=questions[index];

  if(q.type==="radio"){
    const selected = document.querySelector('.choice-box.selected');
    if(!selected) return alert("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö");
    answers[q.text] = selected.dataset.value;
  }

  if(q.type==="checkbox"){
    const v=[...document.querySelectorAll('#choices input[type="checkbox"]:checked')].map(i=>i.value);
    if(v.length===0) return alert("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ô‡πâ‡∏≠‡∏¢‡∏´‡∏ô‡∏∂‡πà‡∏á‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£");
    answers[q.text]=v;
  }

  if(q.type==="number"){
    const hoursInput = document.getElementById('hours');
    const val = Number(hoursInput.value);
    if(!val || val < 1) return alert("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á (‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ô‡πâ‡∏≠‡∏¢ 1 ‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á)");
    if(val > 24) { alert("‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á‡∏ï‡πâ‡∏≠‡∏á‡πÑ‡∏°‡πà‡πÄ‡∏Å‡∏¥‡∏ô 24 ‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á‡∏ï‡πà‡∏≠‡∏ß‡∏±‡∏ô"); return; }
    answers[q.text] = val;
  }

  index++;
  if(index<questions.length) show();
  else calc();
}
// ===== ‡∏ï‡∏£‡∏ß‡∏à‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç‡∏Å‡∏≤‡∏£‡πÅ‡∏™‡∏î‡∏á‡∏û‡∏•‡∏∏ =====
function checkCelebrate(total){
  const people = answers["‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏´‡πâ‡∏≠‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô"];

  if (people === "20-30 ‡∏Ñ‡∏ô" && total <= 32000) return true;
  if (people === "31-40 ‡∏Ñ‡∏ô" && total <= 33000) return true;
  if (people === "41-45 ‡∏Ñ‡∏ô" && total <= 34000) return true;
  if (people === "46-50 ‡∏Ñ‡∏ô" && total <= 35000) return true;

  return false;
}

/* Calculate result */
function calc(){
  quiz.style.display="none";
  result.style.display="flex";

  let total=0;
  const hrs=answers["‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏ï‡πà‡∏≠‡∏ß‡∏±‡∏ô"] || 0;
  const devices = answers["‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÉ‡∏ä‡πâ‡πÑ‡∏ü‡∏ü‡πâ‡∏≤‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡πÉ‡∏ô‡∏´‡πâ‡∏≠‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô"] || [];

  devices.forEach(d=>{ if(power[d]) total += power[d] * hrs; });

  resultContent.innerHTML = `
    <p style="font-size:1.15rem">‡πÉ‡∏ä‡πâ‡πÑ‡∏ü‡∏£‡∏ß‡∏° <b>${total.toLocaleString()}</b> ‡∏ß‡∏±‡∏ï‡∏ï‡πå/‡∏ß‡∏±‡∏ô</p>
    <p class="${total>10000 ? 'bad' : 'good'}" style="font-size:1.05rem">
      ${total>10000 ? "‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡πÑ‡∏ü‡∏™‡∏π‡∏á" : "‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡πÑ‡∏ü‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏°"}
    </p>
    <hr style="border:none;border-top:1px solid #eef2ff;margin:12px 0;">
    <div style="font-size:0.95rem;color:#374151">
      <strong>‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì</strong>
      <ul style="padding-left:18px;margin:8px 0 0;">
        ${Object.entries(answers).map(([k,v])=>{
          if(Array.isArray(v)) return `<li>${k}: ${v.join(', ')}</li>`;
          return `<li>${k}: ${v}</li>`;
        }).join('')}
      </ul>
    </div>
  `; 
  if (checkCelebrate(total)) {
  celebrate();
  
}
// ===== ‡∏Å‡∏£‡∏ì‡∏µ‡πÉ‡∏ä‡πâ‡πÑ‡∏ü‡∏™‡∏π‡∏á =====
if (total > 40000) {
  const box = document.querySelector('.result-box');

  // 1Ô∏è‚É£ ‡πÄ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡∏Å‡∏•‡πà‡∏≠‡∏á‡∏™‡∏£‡∏∏‡∏õ‡πÑ‡∏õ‡∏ã‡πâ‡∏≤‡∏¢
  setTimeout(() => {
    box.classList.add('shift-left');
  }, 300);

  // 2Ô∏è‚É£ ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏õ‡∏∏‡πà‡∏°‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡πÄ‡∏î‡πâ‡∏á‡∏à‡∏≤‡∏Å‡∏Ç‡∏ß‡∏≤
  const adviceBtn = document.createElement('a');
  adviceBtn.href = "https://www.egat.co.th/home/infographics/";
  adviceBtn.target = "_blank";
  adviceBtn.className = "advice-btn";
  adviceBtn.innerText = "‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡πÑ‡∏ü‡∏ü‡πâ‡∏≤";
  document.body.appendChild(adviceBtn);

  // 3Ô∏è‚É£ ‡∏´‡∏•‡∏±‡∏á‡∏Ñ‡∏•‡∏¥‡∏Å ‚Üí ‡∏Å‡∏•‡πà‡∏≠‡∏á‡∏™‡∏ß‡πà‡∏≤‡∏á‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏´‡∏•‡∏≠‡∏î‡πÑ‡∏ü
  adviceBtn.addEventListener('click', () => {
    box.classList.add('glow-box');
  });
}

} 
function celebrate() {
  console.log("üéâ celebrate() called");

  // ‡πÄ‡∏™‡πâ‡∏ô‡∏û‡∏•‡∏∏
  const left = document.createElement('div');
  left.className = 'firework-line firework-left';

  const right = document.createElement('div');
  right.className = 'firework-line firework-right';

  document.body.appendChild(left);
  document.body.appendChild(right);

  setTimeout(() => {
    left.remove();
    right.remove();
  }, 4200); // ‡∏ô‡∏≤‡∏ô‡∏Å‡∏ß‡πà‡∏≤ animation ‡∏ô‡∏¥‡∏î‡∏ô‡∏∂‡∏á

  // ‡∏Å‡∏£‡∏∞‡∏î‡∏≤‡∏©‡∏™‡∏µ
  const colors = ['#4f46e5', '#16a34a', '#f59e0b', '#dc2626', '#06b6d4'];

  for (let i = 0; i < 120; i++) {
    const c = document.createElement('div');
    c.className = 'confetti';
    c.style.left = Math.random() * 100 + 'vw';
    c.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
    c.style.animationDelay = (Math.random() * 1.5) + 's';
    document.body.appendChild(c);

    setTimeout(() => c.remove(), 8500);
  }
}
</script>
</body> 
</html>

<!-- 
‡πÄ‡∏õ‡∏•‡∏µ‡πâ‡∏¢‡∏ô‡∏Ñ‡πà‡∏≤‡πÑ‡∏ü‡∏ü‡πâ‡∏≤ ‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î 279-283 
 
‡πÄ‡∏≠‡∏≤‡πÑ‡∏õ‡πÉ‡∏´‡πâ‡πÄ‡∏ò‡∏≠‡πÉ‡∏´‡πâ‡∏ï‡∏±‡πâ‡∏á‡∏°‡∏≤‡∏Å‡∏°‡∏≤‡∏¢
-->


